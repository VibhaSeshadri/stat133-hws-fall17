}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- sprintf("## %s : %.4f",
names(lst)[1], lst[1])
for (i in 2:length(lst)) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
}
str
}
print_stats <- function(lst) {
str <- sprintf("## %s : %.4f",
names(lst)[1], lst[1])
for (i in 2:length(lst)) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- sprintf("## %s : %.4f%n",
names(lst)[1], lst[1])
for (i in 2:length(lst)) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- cat(sprintf("## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst)) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst)) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst) - 1) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
} else {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])))
}
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- format(cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n"), justify = "centre")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- format(cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n"), justify = "centre")
} else {
str <- format(cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i]))), justify = "centre")
}
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- format(cat(sprintf("## %s : %.4f",
names(lst)[1], lst[1])), justify = "centre")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- format(cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i]))),
justify = "centre")
} else {
str <- format(cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i]))), justify = "centre")
}
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- format(cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n"), justify = "centre")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- format(cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n"), justify = "centre")
} else {
str <- format(cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i]))), justify = "centre")
}
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
} else {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])))
}
}
str
}
print_stats(lst)
print_stats <- function(lst) {
str <- cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n")
} else {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])))
}
}
str
}
print_stats(lst)
getwd()
setwd('Documents/berkeleyUG/fall2017/stat133/stat133-hws-fall17/hw04/code')
getwd()
library(testthat)
source('functions.R')
sink('../output/test-reporter.txt')
test_file('tests.R')
sink()
library(testthat)
source('functions.R')
sink('../output/test-reporter.txt')
test_file('tests.R')
sink()
getwd()
source('functions.R')
library(readr)
rawscores <- read_csv('../data/rawdata/rawscores.csv')
sink('../output/summary-rawscores.txt')
str(rawscores)
print_stats(summary_stats(rawscores$HW1))
print_stats(summary_stats(rawscores$HW2))
print_stats(summary_stats(rawscores$HW3))
print_stats(summary_stats(rawscores$HW4))
print_stats(summary_stats(rawscores$HW5))
print_stats(summary_stats(rawscores$HW6))
print_stats(summary_stats(rawscores$HW7))
print_stats(summary_stats(rawscores$HW8))
print_stats(summary_stats(rawscores$HW9))
print_stats(summary_stats(rawscores$ATT))
print_stats(summary_stats(rawscores$QZ1))
print_stats(summary_stats(rawscores$QZ2))
print_stats(summary_stats(rawscores$QZ3))
print_stats(summary_stats(rawscores$QZ4))
print_stats(summary_stats(rawscores$EX1))
print_stats(summary_stats(rawscores$EX2))
sink()
for (i in 1:ncol(rawscores)) {
rawscores[,i][is.na(rawscores[,i])] <- 0
}
rawscores$QZ1 <- rescale100(rawscores$QZ1, 0, 12)
rawscores$QZ2 <- rescale100(rawscores$QZ2, 0, 18)
rawscores$QZ3 <- rescale100(rawscores$QZ3, 0, 20)
rawscores$QZ4 <- rescale100(rawscores$QZ4, 0, 20)
rawscores$Test1 <- rescale100(rawscores$EX1, 0, 80)
rawscores$Test2 <- rescale100(rawscores$EX2, 0, 90)
hw <- c()
for (i in 1:nrow(rawscores)) {
avg_hw <- score_homework(as.numeric(rawscores[i, 1:9]))
hw <- c(hw, avg_hw)
}
rawscores$Homework <- hw
qz <- c()
for (i in 1:nrow(rawscores)) {
avg_qz <- score_quiz(as.numeric(rawscores[i, 11:14]))
qz <- c(qz, avg_qz)
}
rawscores$Quiz <- qz
overall <- c()
for (i in 1:nrow(rawscores)) {
grade <- (rawscores$Homework[i] * .3) +
(score_lab(rawscores$ATT[i]) * .1) +
(rawscores$Quiz[i] * .15) +
(rawscores$Test1[i] * .2) +
(rawscores$Test2[i] * .25)
print(grade)
overall <- c(overall, grade)
}
rawscores$Overall <- overall
install.packages("stringr")
library(stringr)
print_stats <- function(lst) {
str <- cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- cat(str_pad(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])),
sep = "\n"), width = 9, side: "both", pad = " ")
} else {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])))
}
}
str
}
print_stats(summary_stats(c(1, 2, 3, 4 , 5, NA)))
print_stats <- function(lst) {
str <- cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- cat(str_pad(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])), width = 9, side: "both", pad = " "),
sep = "\n")
} else {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])))
}
}
str
}
print_stats(summar_stats(c(1, 2, 3, 4, 5, NA)))
print_stats(summary_stats(c(1, 2, 3, 4, 5, NA)))
print_stats <- function(lst) {
str <- cat(sprintf(" ## %s : %.4f",
names(lst)[1], lst[1]), sep = "\n")
for (i in 2:length(lst)) {
if (i != length(lst)) {
str <- cat(str_pad(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])), width = 9, side = "both", pad = " "),
sep = "\n")
} else {
str <- cat(paste(str, sprintf("## %s : %.4f",
names(lst)[i], lst[i])))
}
}
str
}
print_stats(summary_stats(c(1, 2, 3, 4, 5, NA)))
for (i in 1:nrow(rawscores)) {
overall <- rawscores$Overall[i]
if (overall >= 0 & overall < 50) {
grade <- c(grade, "F")
} else if (overall >= 50 & overall < 60) {
grade <- c(grade, "D")
} else if (overall >= 60 & overall < 70) {
grade <- c(grade, "C-")
} else if (overall >= 70 & overall < 77.5) {
grade <- c(grade, "C")
} else if (overall >= 77.5 & overall < 79.5) {
grade <- c(grade, "C+")
} else if (overall >= 79.5 & overall < 82) {
grade <- c(grade, "B-")
} else if (overall >= 82 & overall < 86) {
grade <- c(grade, "B")
} else if (overall >= 86 & overall < 88) {
grade <- c(grade, "B+")
} else if (overall >= 88 & overall < 90) {
grade <- c(grade, "A-")
} else if (overall >= 90 & overall < 95) {
grade <- c(grade, "A")
} else if (overall >= 95 & overall < 100) {
grade <- c(grade, "A+")
}
}
rawscores$Grade <- grade
rawscores
rawscores$Grade
overall <- rawscores$Overall[i]
print(overall)
if (overall >= 0 & overall < 50) {
grade <- c(grade, "F")
} else if (overall >= 50 & overall < 60) {
grade <- c(grade, "D")
} else if (overall >= 60 & overall < 70) {
grade <- c(grade, "C-")
} else if (overall >= 70 & overall < 77.5) {
grade <- c(grade, "C")
} else if (overall >= 77.5 & overall < 79.5) {
grade <- c(grade, "C+")
} else if (overall >= 79.5 & overall < 82) {
grade <- c(grade, "B-")
} else if (overall >= 82 & overall < 86) {
grade <- c(grade, "B")
} else if (overall >= 86 & overall < 88) {
grade <- c(grade, "B+")
} else if (overall >= 88 & overall < 90) {
grade <- c(grade, "A-")
} else if (overall >= 90 & overall < 95) {
grade <- c(grade, "A")
} else if (overall >= 95 & overall < 100) {
grade <- c(grade, "A+")
}
grade
grade <- c()
for (i in 1:nrow(rawscores)) {
overall <- rawscores$Overall[i]
print(overall)
if (overall >= 0 & overall < 50) {
grade <- c(grade, "F")
} else if (overall >= 50 & overall < 60) {
grade <- c(grade, "D")
} else if (overall >= 60 & overall < 70) {
grade <- c(grade, "C-")
} else if (overall >= 70 & overall < 77.5) {
grade <- c(grade, "C")
} else if (overall >= 77.5 & overall < 79.5) {
grade <- c(grade, "C+")
} else if (overall >= 79.5 & overall < 82) {
grade <- c(grade, "B-")
} else if (overall >= 82 & overall < 86) {
grade <- c(grade, "B")
} else if (overall >= 86 & overall < 88) {
grade <- c(grade, "B+")
} else if (overall >= 88 & overall < 90) {
grade <- c(grade, "A-")
} else if (overall >= 90 & overall < 95) {
grade <- c(grade, "A")
} else if (overall >= 95 & overall < 100) {
grade <- c(grade, "A+")
}
}
grade
grade <- c()
for (i in 1:nrow(rawscores)) {
overall <- rawscores$Overall[i]
print(overall)
if (overall >= 0 & overall < 50) {
grade <- c(grade, "F")
} else if (overall >= 50 & overall < 60) {
grade <- c(grade, "D")
} else if (overall >= 60 & overall < 70) {
grade <- c(grade, "C-")
} else if (overall >= 70 & overall < 77.5) {
grade <- c(grade, "C")
} else if (overall >= 77.5 & overall < 79.5) {
grade <- c(grade, "C+")
} else if (overall >= 79.5 & overall < 82) {
grade <- c(grade, "B-")
} else if (overall >= 82 & overall < 86) {
grade <- c(grade, "B")
} else if (overall >= 86 & overall < 88) {
grade <- c(grade, "B+")
} else if (overall >= 88 & overall < 90) {
grade <- c(grade, "A-")
} else if (overall >= 90 & overall < 95) {
grade <- c(grade, "A")
} else if (overall >= 95 & overall <= 100) {
grade <- c(grade, "A+")
}
}
rawscores$Grade <- grade
rawscores$Grade
file_names <- c("Lab-stats.txt", "Homework-stats.txt", "Quiz-stats.txt",
"Test1-stats.txt", "Test2-stats.txt", "Overall-stats.txt")
data <- c(score_lab(rawscores$ATT), rawscores$Homework, rawscores$Quiz,
rawscores$Test1, rawscores$Test2, rawscores$Overall)
file_names <- c("Lab-stats.txt", "Homework-stats.txt", "Quiz-stats.txt",
"Test1-stats.txt", "Test2-stats.txt", "Overall-stats.txt")
data <- c(rawscores$ATT, rawscores$Homework, rawscores$Quiz,
rawscores$Test1, rawscores$Test2, rawscores$Overall)
for (i in 1:length(file_names)) {
sink(paste0('../output/', file_names[i]))
print_stats(summary_stats(data[i]))
sink()
}
print_stats(summary_stats(rawscore$ATT))
print_stats(summary_stats(rawscores$ATT))
file_names <- c("Lab-stats.txt", "Homework-stats.txt", "Quiz-stats.txt",
"Test1-stats.txt", "Test2-stats.txt", "Overall-stats.txt")
data <- c(rawscores$ATT, rawscores$Homework, rawscores$Quiz,
rawscores$Test1, rawscores$Test2, rawscores$Overall)
for (i in 1:length(file_names)) {
print(file_names[i])
print(data[i])
sink(paste0('../output/', file_names[i]))
print_stats(summary_stats(data[i]))
sink()
}
data
data <- list(rawscores$ATT, rawscores$Homework, rawscores$Quiz,
rawscores$Test1, rawscores$Test2, rawscores$Overall)
data
data[1]
data[[1]]
file_names <- c("Lab-stats.txt", "Homework-stats.txt", "Quiz-stats.txt",
"Test1-stats.txt", "Test2-stats.txt", "Overall-stats.txt")
data <- list(rawscores$ATT, rawscores$Homework, rawscores$Quiz,
rawscores$Test1, rawscores$Test2, rawscores$Overall)
for (i in 1:length(file_names)) {
print(file_names[i])
print(data[i])
sink(paste0('../output/', file_names[i]))
print_stats(summary_stats(data[[i]]))
sink()
}
nrow(rawscores)
ncol(rawscores)
lab <- c()
for (i in 1:nrow(rawscores)) {
ls <- score_lab(as.numeric(rawscores[i, 10]))
lab <- c(lab, ls)
}
rawscores$Lab <- lab
rawscores$Lab
overall <- c()
rawscores$Overall
overall <- c()
for (i in 1:nrow(rawscores)) {
grade <- (rawscores$Homework[i] * .3) +
(rawscores$Lab) * .1) +
(rawscores$Quiz[i] * .15) +
(rawscores$Test1[i] * .2) +
(rawscores$Test2[i] * .25)
overall <- c(overall, grade)
}
rawscores$Overall <- overall
overall <- c()
for (i in 1:nrow(rawscores)) {
grade <- (rawscores$Homework[i] * .3) +
(rawscores$Lab * .1) +
(rawscores$Quiz[i] * .15) +
(rawscores$Test1[i] * .2) +
(rawscores$Test2[i] * .25)
overall <- c(overall, grade)
}
rawscores$Overall <- overall
rawscores$Overall
overall <- c()
for (i in 1:nrow(rawscores)) {
rs <- (rawscores$Homework[i] * .3) +
(rawscores$Lab * .1) +
(rawscores$Quiz[i] * .15) +
(rawscores$Test1[i] * .2) +
(rawscores$Test2[i] * .25)
overall <- c(overall, rs)
}
rawscores$Overall <- overall
rawscores$Overall
rawscores$Overall <- Null
rawscores$Overall <- NULL
rawscores$Overall
overall <- c()
for (i in 1:nrow(rawscores)) {
rs <- (rawscores$Homework[i] * .3) +
(rawscores$Lab * .1) +
(rawscores$Quiz[i] * .15) +
(rawscores$Test1[i] * .2) +
(rawscores$Test2[i] * .25)
overall <- c(overall, rs)
}
rawscores$Overall <- overall
overall <- c()
for (i in 1:nrow(rawscores)) {
rs <- (rawscores$Homework[i] * .3) +
(rawscores$Lab[i] * .1) +
(rawscores$Quiz[i] * .15) +
(rawscores$Test1[i] * .2) +
(rawscores$Test2[i] * .25)
overall <- c(overall, rs)
}
rawscores$Overall <- overall
rawscores$Overall
rawscores$Lab
write_csv(rawscores, path = '../data/cleandata/cleanscores.csv')
nrow(rawscores)
ncol(rawscores)
